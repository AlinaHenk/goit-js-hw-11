{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43769783-4ebd08048bd6758fdf84d5c5e';\n\nexport const fetchPictureBySearch = (searchValue) => {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: searchValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n};\n","export const createGallery = images => {\n  return images\n           .map(\n            ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n   `<div class = \"image-holder\"><a class=\"gallery-link\" href=\"${largeImageURL}\">\n     <img  class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n    </a>\n   <div>\n   <table>\n   <tr class= \"title\">\n   <td>Likes</td> \n   <td>Views</td>\n   <td>Comments</td>\n   <td>Downloads</td>\n   </tr>\n   <tr>\n   <td>${likes}</td> \n   <td>${views}</td>\n   <td>${comments}</td>\n   <td>${downloads}</td>\n   </tr>\n   </table>\n   </div>\n    </div>\n    `\n    )\n  .join(\"\");\n  };\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchPictureBySearch } from \"./js/pixabay-api.js\";\nimport { createGallery } from \"./js/render-functions.js\";\n\nconst inputForm = document.querySelector('input[name=\"search\"]');\nconst allImages = document.querySelector('.gallery-list');\nconst form = document.querySelector('.form-image-search');\nconst loader = document.querySelector('.loader');\nform.addEventListener(\"submit\", performSearch);\n\nfunction performSearch(event) {\n   event.preventDefault();\n  loader.classList.remove('is-hidden');\n   const search = inputForm.value.trim();\n   console.log(search);\n   allImages.innerHTML = \"\";\n   if (search === '') {\n      event.target.reset();\n      \nloader.classList.add('is-hidden');\n   }\n   else {\n      \n      fetchPictureBySearch(search)\n         .then((imagesData) => {\n            if (imagesData.total === 0) {\n               iziToast.info({\n                  position: 'topRight',\n                  message: 'Sorry, there are no images matching your search query. Please try again!',\n                  color: 'red',\n                  timeout: 3000,\n               });\n               event.target.reset();\n            }\n            const searchedGallery = createGallery(imagesData.hits);\n            allImages.innerHTML = searchedGallery;\n            let newGallery = new SimpleLightbox('.gallery-list a', { captionsData: 'alt', captionDelay: 250 });\n            newGallery.refresh();\n          \n         })\n         .catch((error) => console.log(error))\n         .finally(() => {\n            event.target.reset();\n          loader.classList.add('is-hidden');\n\n         });\n   }\n}\n            \n            "],"names":["BASE_URL","API_KEY","fetchPictureBySearch","searchValue","searchParams","response","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","inputForm","allImages","form","loader","performSearch","event","search","imagesData","iziToast","searchedGallery","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAwBC,GAAgB,CACjD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EACrC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,EClBaC,EAAgBC,GACpBA,EACG,IACA,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAClF,6DAA6DL,CAAa;AAAA;AAAA,aAEhED,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAYRC,CAAK;AAAA,SACLC,CAAK;AAAA,SACLC,CAAQ;AAAA,SACRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMb,EACF,KAAK,EAAE,ECrBJC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAO,SAAS,cAAc,oBAAoB,EAClDC,EAAS,SAAS,cAAc,SAAS,EAC/CD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC3BA,EAAM,eAAc,EACrBF,EAAO,UAAU,OAAO,WAAW,EAClC,MAAMG,EAASN,EAAU,MAAM,KAAI,EACnC,QAAQ,IAAIM,CAAM,EAClBL,EAAU,UAAY,GAClBK,IAAW,IACZD,EAAM,OAAO,QAEnBF,EAAO,UAAU,IAAI,WAAW,GAI1BhB,EAAqBmB,CAAM,EACvB,KAAMC,GAAe,CACfA,EAAW,QAAU,IACtBC,EAAS,KAAK,CACX,SAAU,WACV,QAAS,2EACT,MAAO,MACP,QAAS,GAC3B,CAAgB,EACDH,EAAM,OAAO,SAEhB,MAAMI,EAAkBlB,EAAcgB,EAAW,IAAI,EACrDN,EAAU,UAAYQ,EACL,IAAIC,EAAe,kBAAmB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EACtF,QAAO,CAE9B,CAAU,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACZN,EAAM,OAAO,QACfF,EAAO,UAAU,IAAI,WAAW,CAE1C,CAAU,CAEV"}